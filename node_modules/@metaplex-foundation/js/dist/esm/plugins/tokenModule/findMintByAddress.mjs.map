{"version":3,"file":"findMintByAddress.mjs","sources":["../../../../src/plugins/tokenModule/findMintByAddress.ts"],"sourcesContent":["import { Metaplex } from '@/Metaplex';\nimport { Operation, OperationHandler, useOperation } from '@/types';\nimport type { Commitment, PublicKey } from '@solana/web3.js';\nimport { toMintAccount } from './accounts';\nimport { Mint, toMint } from './Mint';\nimport type { TokenClient } from './TokenClient';\n\n// -----------------\n// Clients\n// -----------------\n\n/** @internal */\nexport function _findMintByAddressClient(\n  this: TokenClient,\n  address: PublicKey,\n  options?: Omit<FindMintByAddressInput, 'address'>\n) {\n  return this.metaplex\n    .operations()\n    .getTask(findMintByAddressOperation({ address, ...options }));\n}\n\n// -----------------\n// Operation\n// -----------------\n\nconst Key = 'FindMintByAddressOperation' as const;\nexport const findMintByAddressOperation =\n  useOperation<FindMintByAddressOperation>(Key);\nexport type FindMintByAddressOperation = Operation<\n  typeof Key,\n  FindMintByAddressInput,\n  Mint\n>;\n\nexport type FindMintByAddressInput = {\n  address: PublicKey;\n  commitment?: Commitment;\n};\n\n// -----------------\n// Handler\n// -----------------\n\nexport const findMintByAddressOperationHandler: OperationHandler<FindMintByAddressOperation> =\n  {\n    handle: async (\n      operation: FindMintByAddressOperation,\n      metaplex: Metaplex\n    ): Promise<Mint> => {\n      const { address, commitment } = operation.input;\n\n      const account = toMintAccount(\n        await metaplex.rpc().getAccount(address, commitment)\n      );\n\n      return toMint(account);\n    },\n  };\n"],"names":["_findMintByAddressClient","address","options","metaplex","operations","getTask","findMintByAddressOperation","Key","useOperation","findMintByAddressOperationHandler","handle","operation","commitment","input","account","toMintAccount","rpc","getAccount","toMint"],"mappings":";;;;AAOA;AACA;AACA;;AAEA;AACO,SAASA,wBAAT,CAELC,OAFK,EAGLC,OAHK,EAIL;EACA,OAAO,IAAA,CAAKC,QAAL,CACJC,UADI,GAEJC,OAFI,CAEIC,0BAA0B,CAAC;IAAEL,OAAF;IAAW,GAAGC,OAAAA;AAAd,GAAD,CAF9B,CAAP,CAAA;AAGD;AAGD;AACA;;AAEA,MAAMK,GAAG,GAAG,4BAAZ,CAAA;MACaD,0BAA0B,GACrCE,YAAY,CAA6BD,GAA7B,EADP;AAaP;AACA;AACA;AAEO,MAAME,iCAA+E,GAC1F;AACEC,EAAAA,MAAM,EAAE,OACNC,SADM,EAENR,QAFM,KAGY;IAClB,MAAM;MAAEF,OAAF;AAAWW,MAAAA,UAAAA;KAAeD,GAAAA,SAAS,CAACE,KAA1C,CAAA;AAEA,IAAA,MAAMC,OAAO,GAAGC,aAAa,CAC3B,MAAMZ,QAAQ,CAACa,GAAT,EAAA,CAAeC,UAAf,CAA0BhB,OAA1B,EAAmCW,UAAnC,CADqB,CAA7B,CAAA;IAIA,OAAOM,MAAM,CAACJ,OAAD,CAAb,CAAA;AACD,GAAA;AAZH;;;;"}