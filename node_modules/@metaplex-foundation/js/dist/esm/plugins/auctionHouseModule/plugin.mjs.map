{"version":3,"file":"plugin.mjs","sources":["../../../../src/plugins/auctionHouseModule/plugin.ts"],"sourcesContent":["import { cusper } from '@metaplex-foundation/mpl-auction-house';\nimport type { Metaplex } from '@/Metaplex';\nimport type { ErrorWithLogs, MetaplexPlugin } from '@/types';\nimport { AuctionsClient } from './AuctionsClient';\nimport { AuctionHouseProgram } from './program';\nimport {\n  createAuctionHouseOperation,\n  createAuctionHouseOperationHandler,\n} from './createAuctionHouse';\nimport { createBidOperation, createBidOperationHandler } from './createBid';\nimport {\n  createListingOperation,\n  createListingOperationHandler,\n} from './createListing';\nimport {\n  executeSaleOperation,\n  executeSaleOperationHandler,\n} from './executeSale';\nimport {\n  findAuctionHouseByAddressOperation,\n  findAuctionHouseByAddressOperationHandler,\n} from './findAuctionHouseByAddress';\nimport {\n  findBidByAddressOperation,\n  findBidByAddressOperationHandler,\n} from './findBidByAddress';\nimport {\n  findListingByAddressOperation,\n  findListingByAddressOperationHandler,\n} from './findListingByAddress';\nimport {\n  findPurchaseByAddressOperation,\n  findPurchaseByAddressOperationHandler,\n} from './findPurchaseByAddress';\nimport {\n  updateAuctionHouseOperation,\n  updateAuctionHouseOperationHandler,\n} from './updateAuctionHouse';\nimport { loadBidOperation, loadBidOperationHandler } from './loadBid';\nimport {\n  loadListingOperation,\n  loadListingOperationHandler,\n} from './loadListing';\nimport {\n  loadPurchaseOperation,\n  loadPurchaseOperationHandler,\n} from './loadPurchase';\n\nexport const auctionHouseModule = (): MetaplexPlugin => ({\n  install(metaplex: Metaplex) {\n    // Auction House Program.\n    metaplex.programs().register({\n      name: 'AuctionHouseProgram',\n      address: AuctionHouseProgram.publicKey,\n      errorResolver: (error: ErrorWithLogs) =>\n        cusper.errorFromProgramLogs(error.logs, false),\n    });\n\n    const op = metaplex.operations();\n    op.register(\n      createAuctionHouseOperation,\n      createAuctionHouseOperationHandler\n    );\n    op.register(createBidOperation, createBidOperationHandler);\n    op.register(createListingOperation, createListingOperationHandler);\n    op.register(executeSaleOperation, executeSaleOperationHandler);\n    op.register(\n      findAuctionHouseByAddressOperation,\n      findAuctionHouseByAddressOperationHandler\n    );\n    op.register(findBidByAddressOperation, findBidByAddressOperationHandler);\n    op.register(\n      findListingByAddressOperation,\n      findListingByAddressOperationHandler\n    );\n    op.register(\n      findPurchaseByAddressOperation,\n      findPurchaseByAddressOperationHandler\n    );\n    op.register(loadBidOperation, loadBidOperationHandler);\n    op.register(loadListingOperation, loadListingOperationHandler);\n    op.register(loadPurchaseOperation, loadPurchaseOperationHandler);\n    op.register(\n      updateAuctionHouseOperation,\n      updateAuctionHouseOperationHandler\n    );\n\n    metaplex.auctions = function () {\n      return new AuctionsClient(this);\n    };\n  },\n});\n\ndeclare module '../../Metaplex' {\n  interface Metaplex {\n    auctions(): AuctionsClient;\n  }\n}\n"],"names":["auctionHouseModule","install","metaplex","programs","register","name","address","AuctionHouseProgram","publicKey","errorResolver","error","cusper","errorFromProgramLogs","logs","op","operations","createAuctionHouseOperation","createAuctionHouseOperationHandler","createBidOperation","createBidOperationHandler","createListingOperation","createListingOperationHandler","executeSaleOperation","executeSaleOperationHandler","findAuctionHouseByAddressOperation","findAuctionHouseByAddressOperationHandler","findBidByAddressOperation","findBidByAddressOperationHandler","findListingByAddressOperation","findListingByAddressOperationHandler","findPurchaseByAddressOperation","findPurchaseByAddressOperationHandler","loadBidOperation","loadBidOperationHandler","loadListingOperation","loadListingOperationHandler","loadPurchaseOperation","loadPurchaseOperationHandler","updateAuctionHouseOperation","updateAuctionHouseOperationHandler","auctions","AuctionsClient"],"mappings":";;;;;;;;;;;;;;;;AAgDO,MAAMA,kBAAkB,GAAG,OAAuB;EACvDC,OAAO,CAACC,QAAD,EAAqB;AAC1B;AACAA,IAAAA,QAAQ,CAACC,QAAT,EAAoBC,CAAAA,QAApB,CAA6B;AAC3BC,MAAAA,IAAI,EAAE,qBADqB;MAE3BC,OAAO,EAAEC,mBAAmB,CAACC,SAFF;MAG3BC,aAAa,EAAGC,KAAD,IACbC,MAAM,CAACC,oBAAP,CAA4BF,KAAK,CAACG,IAAlC,EAAwC,KAAxC,CAAA;KAJJ,CAAA,CAAA;AAOA,IAAA,MAAMC,EAAE,GAAGZ,QAAQ,CAACa,UAAT,EAAX,CAAA;AACAD,IAAAA,EAAE,CAACV,QAAH,CACEY,2BADF,EAEEC,kCAFF,CAAA,CAAA;AAIAH,IAAAA,EAAE,CAACV,QAAH,CAAYc,kBAAZ,EAAgCC,yBAAhC,CAAA,CAAA;AACAL,IAAAA,EAAE,CAACV,QAAH,CAAYgB,sBAAZ,EAAoCC,6BAApC,CAAA,CAAA;AACAP,IAAAA,EAAE,CAACV,QAAH,CAAYkB,oBAAZ,EAAkCC,2BAAlC,CAAA,CAAA;AACAT,IAAAA,EAAE,CAACV,QAAH,CACEoB,kCADF,EAEEC,yCAFF,CAAA,CAAA;AAIAX,IAAAA,EAAE,CAACV,QAAH,CAAYsB,yBAAZ,EAAuCC,gCAAvC,CAAA,CAAA;AACAb,IAAAA,EAAE,CAACV,QAAH,CACEwB,6BADF,EAEEC,oCAFF,CAAA,CAAA;AAIAf,IAAAA,EAAE,CAACV,QAAH,CACE0B,8BADF,EAEEC,qCAFF,CAAA,CAAA;AAIAjB,IAAAA,EAAE,CAACV,QAAH,CAAY4B,gBAAZ,EAA8BC,uBAA9B,CAAA,CAAA;AACAnB,IAAAA,EAAE,CAACV,QAAH,CAAY8B,oBAAZ,EAAkCC,2BAAlC,CAAA,CAAA;AACArB,IAAAA,EAAE,CAACV,QAAH,CAAYgC,qBAAZ,EAAmCC,4BAAnC,CAAA,CAAA;AACAvB,IAAAA,EAAE,CAACV,QAAH,CACEkC,2BADF,EAEEC,kCAFF,CAAA,CAAA;;IAKArC,QAAQ,CAACsC,QAAT,GAAoB,YAAY;AAC9B,MAAA,OAAO,IAAIC,cAAJ,CAAmB,IAAnB,CAAP,CAAA;KADF,CAAA;AAGD,GAAA;;AA1CsD,CAAvB;;;;"}